# BLE\_GAP\_SetScanRspData

**Parent topic:**[Functions](GUID-0DD261BF-40D6-42CD-8806-9B93D259D1CC.md)

## C

```c
uint16_t BLE_GAP_SetScanRspData(BLE_GAP_AdvDataParams_T *p_scanData);
```

## Description

Set scan response data.

### Note

If advertising is currently enabled, the new data shall be used in<br />subsequent advertising events. If an advertising event is in progress<br />when this command is issued, the new data may not be used for that event.

This API belongs to legacy advertising feature. It will be disallowed if any one API belongs extended advertising feature is issued before. **[Categories of advertising APIs and events](GUID-6250C306-2D62-4631-A4F9-616BBCCC48AC.md)** for details of advertising APIs.

**[BLE\_GAP\_AdvInit](GUID-00582C15-26DA-41D8-8125-1FDD13BCF632.md)** is required for this API.

## Parameters

|Parameter|Description|
|---------|-----------|
|\[in\] p\_scanData|Pointer to the structure containing scan response data to be set. See **[BLE\_GAP\_AdvDataParams\_T](GUID-2DECEDC0-4E63-4998-8AFD-FE309AE95637.md)**.|

## Return values

|Return value|Description|
|------------|-----------|
|MBA\_RES\_SUCCESS|Successfully set scan response data.|
|MBA\_RES\_OOM|Internal memory allocation failure.|
|MBA\_RES\_INVALID\_PARA|Invalid parameters, scan response data length is more than **[BLE\_GAP\_ADV\_MAX\_LENGTH](GUID-4D05CBBF-8E4B-49B8-A1F1-D37781265701.md)**.|
|MBA\_RES\_COMMAND\_DISALLOWED|Command disallowed when extended Adv. feature is in-use.|

