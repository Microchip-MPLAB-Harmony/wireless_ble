# BLE\_DM\_ProceedSecurity

**Parent topic:**[Functions](GUID-C213A095-3AE2-4E42-8DA7-443CE189EE4C.md)

## C

```c
uint16_t BLE_DM_ProceedSecurity(uint16_t connHandle, uint8_t repairing);
```

## Description

Proceed the security process.

### Note

For Central role, BLE\_DM will call **[BLE\_GAP\_EnableEncryption](GUID-8EA5A7AE-F67D-4BEA-A37A-76866E1CDDEF.md)** API to initiate encryption<br />procedure if paired information recorded in the PDS for peer connected device.<br />Otherwise BLE\_SMP\_InitiatePairing API will be called by BLE\_DM to start pairing procedure.

For Peripheral role, BLE DM call **[BLE\_SMP\_InitiatePairing](GUID-8F2CEAE0-3C28-4A9B-8A69-166F2E5F2B67.md)** API to trigger SMP security request.<br />It is up to the remote Central then to initiate pairing or encryption procedure.

## Parameters

|Parameter|Description|
|---------|-----------|
|\[in\] connHandle|Connection handle associated with this connection.|
|\[in\] repairing|Whether to force a pairing procedure even if there is an existing pairing record. This argument is only for the Central role.|

## Return values

|Return value|Description|
|------------|-----------|
|MBA\_RES\_SUCCESS|Successfully build configuration.|
|MBA\_RES\_OOM|Internal memory allocation failure.|
|MBA\_RES\_INVALID\_PARA|The connHandle is invalid.|

